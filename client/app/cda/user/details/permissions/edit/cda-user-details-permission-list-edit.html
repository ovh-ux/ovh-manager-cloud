<section class="cda-user-details-permission-list-edit container-fluid top-space-m16 right-space-m20 left-space-m20">
    <a class="btn btn-back f14 top-space-m16 bottom-space-m16" 
       data-ui-sref="paas.cda.cda-details.cda-user.cda-user-details.cda-user-details-permission-list({serviceName: CdaUserDetailsPermissionListEditCtrl.serviceName, userName: CdaUserDetailsPermissionListEditCtrl.userName})">
        <i class="fa fa-angle-left right-space-m8"></i>
        {{ "cda_user_details_permissions_list_edit_btn_back" | translate }}
    </a>
    <header>
        <h3 data-translate="cda_user_details_permissions_list_edit_title" class="bottom-space-m16"></h3>
        <dl class="fs14 top-space-p12">
            <dd data-translate="cda_user_details_permissions_list_username"></dd>
            <dt data-ng-bind="CdaUserDetailsPermissionListEditCtrl.userName"></dt>
        </dl>
    </header>
    <div class="text-center" data-ng-if="CdaUserDetailsPermissionListEditCtrl.loading">
            <spinner name="bubbles-222-fff-32"></spinner>
    </div>
    <form name="PermissionsForm" 
          data-ng-if="!CdaUserDetailsPermissionListEditCtrl.loading" 
          data-ng-submit="CdaUserDetailsPermissionListEditCtrl.saveUserPermissions()" 
          class="ovh-form-flat top-space-p12"
          data-ng-if="!CdaUserDetailsPermissionListEditCtrl.loading">
        <div data-ng-repeat="pool in CdaUserDetailsPermissionListEditCtrl.datas.poolsDisplay track by pool.poolName">
            <h5 class="top-space-p4">
                <b data-ng-bind="pool.poolName"></b>
            </h5>
            <p data-translate="cda_user_details_permissions_list_label_permission"></p>
            <div class="right-space-p20 bottom-space-p16 permission-chk-list">
                <span data-ng-repeat="(key, value) in CdaUserDetailsPermissionListEditCtrl.accessTypes track by key">
                    <input 
                        id="{{ pool.poolName + key }}"
                        type="checkbox" 
                        ng-model="pool[key]" 
                        class="ng-pristine ng-untouched ng-valid ng-empty top-space-m0 permission-chk"></input>
                    <label 
                        for="{{ pool.poolName + key }}" 
                        data-translate="{{ 'cda_user_details_permissions_list_type_' + key }}" 
                        class="left-space-m0 right-space-p16"></label>
                </span>
            </div>
        </div>
        <div class="top-space-p16 top-space-m16">
            <button
                class="btn btn-primary fs14"
                type="submit" 
                data-ng-disabled="PermissionsForm.$invalid || self.saving">
                <span data-translate="common_modify"></span>
                <spinner name="bubbles-fff-ffcd1a-16" data-ng-show="CdaUserDetailsPermissionListEditCtrl.saving"></spinner>
            </button>
        </div>
    </form>
</section>