<section>
    <header>
        <p data-translate="cda_pool_pool_definition"></p>
        <p data-translate="cda_pool_permission_definition"></p>
    </header>
    <div>
        <button type="button"
                class="oui-button oui-button_secondary"
                data-ng-click="CdaPoolListCtrl.openAddModal()"
                data-ng-if="!CdaPoolListCtrl.loading">
            <span data-translate="cda_pool_add_button_text"></span>
        </button>
    </div>
    <div class="text-center" data-ng-if="CdaPoolListCtrl.loading">
        <oui-loader size="m" class="d-inline-block"></oui-loader>
    </div>
    <div class="table-responsive-vertical">
        <table data-ng-if="!CdaPoolListCtrl.loading" class="table table-pretty table-hover table-striped cda-table">
            <thead>
                <tr>
                    <th>
                        <span data-translate="cda_pool_table_col_poolname"></span>
                    </th>
                    <th>
                        <span data-translate="cda_pool_table_col_pooltype"></span>
                    </th>
                    <th>
                        <span data-translate="cda_pool_table_col_replica"></span>
                    </th>
                    <th>
                        <span data-translate="cda_pool_table_col_minreplica"></span>
                    </th>
                    <th class="cda-table-col-action"></th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-if="CdaPoolListCtrl.datas.pools.length" 
                    data-ng-repeat="pool in CdaPoolListCtrl.datas.paginatedPools track by pool.name">
                    <td data-title="{{ 'cda_pool_table_col_poolname' | translate }}">
                        <span data-ng-bind=" ::pool.name"></span>
                    </td>
                    <td data-title="{{ 'cda_pool_table_col_pooltype' | translate }}">
                        <span data-ng-bind=" ::pool.poolType"></span>
                    </td>
                    <td data-title="{{ 'cda_pool_table_col_replica' | translate }}">
                        <span data-ng-bind=" ::pool.replicaCount"></span>
                    </td>
                    <td data-title="{{ 'cda_pool_table_col_minreplica' | translate }}">
                        <span data-ng-bind=" ::pool.minActiveReplicas"></span>
                    </td>
                    <td data-title="{{ 'cda_pool_table_col_actions' | translate }}">
                        <button class="no-style" 
                                type="button" 
                                data-ng-click="CdaPoolListCtrl.openDeleteModal(pool)"
                                data-uib-tooltip="{{:: 'cda_pool_delete_button_text' | translate }}">
                            <i class="glyphicon glyphicon-trash"></i>
                        </button>
                    </td>
                </tr>
                <tr data-ng-if="!CdaPoolListCtrl.datas.pools.length">
                    <td data-title="cda_pool_table_empty" colspan="5">
                        <span data-translate="cda_pool_table_empty"></span>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="table-pretty-pagination top-space-m12"
             data-ng-hide="CdaPoolListCtrl.loading"
             data-pagination-front
             data-items="CdaPoolListCtrl.datas.pools"
             data-paginated-items="CdaPoolListCtrl.datas.paginatedPools"
             data-current-page="currentPage"
             data-nb-pages="nbPages"
             data-items-per-page="itemsPerPage"
             data-page-placeholder="{{ 'common_pagination_page' | translate:{currentPage: currentPage, nbPages : nbPages} }}"
             data-item-per-page-placeholder="{{ 'common_pagination_display' | translate }}">
        </div>
    </div>
</section>