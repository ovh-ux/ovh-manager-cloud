<div class="metrics__token cui-page__content" ui-view="metricsSubContent">
    <div class="metrics__row">
        <h3 class="oui-header_3" data-translate="metrics_token_title"></h3>
        <p data-translate="metrics_token_explain"
           data-translate-values="{guidesUrl: MetricsTokenCtrl.getGuides()}"></p>
    </div>
    <div class="metrics__row">
        <a class="oui-button oui-button_secondary"
            data-ng-disabled="MetricsTokenCtrl.actions.loading"
            data-translate="metrics_token_add_token"
            ui-sref="dbaas.metrics.detail.token.add({ serviceName: MetricsTokenCtrl.serviceName })"></a>
        <div class="pull-right">
            <input type="search"
                class="oui-input"
                id="token-search"
                name="token-search"
                data-ng-change="MetricsTokenCtrl.onSearchText()"
                data-ng-model="MetricsTokenCtrl.searchText"
                data-ng-model-options="{ debounce: 400 }"
                data-translate-attr="{ placeholder: 'metrics_token_search' }"/>
        </div>
    </div>
    <div class="metrics__row">
        <oui-table id="token-table"
                   rows="MetricsTokenCtrl.tokens"
                   rows-loader="MetricsTokenCtrl.loading">
            <column title="'metrics_table_name' | translate"
                    property="description"
                    sortable>
                <span data-ng-bind="$row.description || '-'"></span>
            </column>
            <column title="'metrics_token_labels' | translate"
                    property="labels"
                    template="MetricsTokenCtrl.labelsTemplate()">
            </column>
            <column title="'metrics_table_token' | translate"
                    property="access">
                <oui-clipboard data-model="$row.access"></oui-clipboard>
            </column>
            <column title="'metrics_token_permission' | translate"
                    property="permission">
                <span data-ng-bind="'metrics_token_permission_' + $row.permission | translate"></span>
            </column>
            <column title="'metrics_table_action' | translate"
                    template="MetricsTokenCtrl.actionTemplate()">
            </column>
        </oui-table>
    </div>
</div>
