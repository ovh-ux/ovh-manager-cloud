<div class="cui-page__content alerts-home">
    <oui-back-button class="back_button_inline_text"></oui-back-button>
    <span class="oui-header_3" data-translate="streams_alerts_title"></span>    
    <h6 class="oui-header_6">
        {{'streams_alerts_current_title' | translate}} {{ctrl.stream.data.title}}
    </h6>
    <p class="oui-paragraph mb-5" data-translate="streams_alerts_intro_text"></p>

    <oui-action-menu text="{{ ::'create_alert' | translate}}" align="start">
        <oui-action-menu-item text="{{ ::'counter_alert' | translate}}" on-click="ctrl.addAlert('counter')"></oui-action-menu-item>
        <oui-action-menu-item text="{{ ::'numeric_alert' | translate}}" on-click="ctrl.addAlert('numeric')"></oui-action-menu-item>
        <oui-action-menu-item text="{{ ::'textual_alert' | translate}}" on-click="ctrl.addAlert('textual')"></oui-action-menu-item>
    </oui-action-menu>

    <oui-spinner data-ng-show="ctrl.alertIds.loading"></oui-spinner>
    <oui-datagrid data-ng-if="!ctrl.alertIds.loading"
        rows-loader="ctrl.loadAlerts($config)" 
        page-size="25">
        <oui-column title="'streams_alerts_title' | translate" property="title"></oui-column>
        <oui-column title="'streams_alerts_condition' | translate" property="title">
            <span 
                data-translate="{{ 'streams_alerts_condition_' + $row.conditionType.toLowerCase() }}" 
                data-translate-values="{{$row}}">
            </span>
        </oui-column>
        <oui-column title="'streams_alerts_grace_period' | translate" property="grace">
            {{$row.grace}}
        </oui-column>
        <oui-column title="'streams_alerts_repeat_notification' | translate" property="repeatNotificationsEnabled">
            <i data-ng-show="$row.repeatNotificationsEnabled" class="glyphicon glyphicon-ok"></i>
            <span data-ng-hide="$row.repeatNotificationsEnabled"> - </span>
        </oui-column>
        <oui-action-menu align="end" compact>
            <oui-action-menu-item text="{{ ::'common_delete' | translate }}" on-click="ctrl.showDeleteConfirm($row)"></oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>    
</div>
