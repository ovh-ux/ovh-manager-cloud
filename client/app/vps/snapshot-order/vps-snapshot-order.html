<section class="container-fluid cui-page__content cui-page__content-flex">

    <div class="row d-lg-flex">
        <div class="col-xm-12">

            <cui-wizard-form data-form-title="{{ 'vps_configuration_activate_snapshot_title' | translate }}"
                             data-form-loaded="true"
                             data-form-on-cancel="$ctrl.cancel()"
                             data-form-on-complete="$ctrl.confirm()">

                <cui-wizard-step data-step-title="{{ 'common_order' | translate }}"
                                 data-step-on-init="$ctrl.loadVps()"
                                 data-step-loaded="!$ctrl.loaders.step1"
                                 data-step-completed="$ctrl.model.contractsValidated">
                    <div class="text-center" data-ng-if="$ctrl.loaders.init || $ctrl.loaders.options">
                        <oui-loader class="d-inline-block" size="m"></oui-loader>
                    </div>

                    <div data-ng-show="$ctrl.model.optionDetails">
                        <p data-translate="vps_configuration_activate_snapshot_step1_description"></p>
                        <p class="red"
                           data-translate="vps_configuration_activate_snapshot_step1_alert"
                           data-translate-values="{ amount: $ctrl.model.optionDetails.unitaryPrice }"></p>
                        <div data-translate="vps_configuration_activate_snapshot_step1_confirmation"></div>
                        <div class="blue bold" data-translate="vps_configuration_veeam_order_step1_id"></div>
                        <div class="oui-checkbox">
                            <input class="oui-checkbox__input" type="checkbox"
                                   id="contractsValidated" name="contractsValidated"
                                   data-ng-change="$ctrl.orderOption()"
                                   data-ng-model="$ctrl.model.contractsValidated">
                            <label class="oui-checkbox__label-container" for="contractsValidated">
                                <span class="oui-checkbox__label"
                                      data-translate="vps_configuration_veeam_order_step1_contracts"></span>
                                <span class="oui-checkbox__icon">
                                    <i class="oui-icon oui-icon-checkbox-unchecked" aria-hidden="true"></i>
                                    <i class="oui-icon oui-icon-checkbox-checked" aria-hidden="true"></i>
                                    <i class="oui-icon oui-icon-checkbox-checkmark" aria-hidden="true"></i>
                                    <i class="oui-icon oui-icon-checkbox-indeterminate" aria-hidden="true"></i>
                                </span>
                            </label>
                        </div>
                        <ul>
                            <li data-ng-repeat="contract in $ctrl.model.optionDetails.contracts">
                                <a target="_blank"
                                   data-ng-href='{{contract.url}}'
                                   data-ng-bind='contract.name'></a>
                            </li>
                        </ul>
                        <span class="italic"
                              data-translate="vps_configuration_veeam_order_step1_info"></span>
                    </div>
                </cui-wizard-step>

                <cui-wizard-step data-step-title="{{ 'vps_configuration_activate_snapshot_step2_title' | translate }}"
                                 data-step-completed="$ctrl.model.url">
                    <div class="text-center" data-ng-if="!$ctrl.model.url">
                        <oui-loader class="d-inline-block" size="m"></oui-loader>
                    </div>
                    <dl data-ng-show="$ctrl.model.url" class="dl-horizontal">
                        <dt class="bold"
                            data-translate="vps_configuration_activate_snapshot_step2_totalHT"></dt>
                        <dd class="red bold"
                            data-ng-bind="$ctrl.model.optionDetails.withoutTax"></dd>

                        <dt class="bold"
                            data-translate="vps_configuration_activate_snapshot_step2_totalTTC"></dt>
                        <dd class="red bold"
                            data-ng-bind="$ctrl.model.optionDetails.withTax"></dd>
                    </dl>
                    <div data-ng-show="$ctrl.model.url" class="row-fluid">
                        <span data-translate="vps_configuration_veeam_order_step2_bc"></span>
                        <span class="blue bold"
                              data-translate="vps_configuration_veeam_order_step2_continue"></span>
                        <span data-translate="vps_configuration_veeam_order_step2_explication"></span>
                        <span class="fs11 lh11 italic"
                              data-translate="vps_configuration_veeam_order_step2_explication2"></span>
                    </div>
                </cui-wizard-step>

            </cui-wizard-form>
        </div>
    </div>
</section>
